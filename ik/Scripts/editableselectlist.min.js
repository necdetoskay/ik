if ("undefined" == typeof jQuery) throw new Error("jQuery yüklenmemiş"); !function (l) { function n() { } n.prototype.rand = Math.floor(26 * Math.random()) + Date.now(), n.prototype.getId = function () { return this.rand++ }; var a = new n; l.fn.MakeEditable = function (n) { var t = l.extend({ cascade: null, fill: { url: null, data: null, option: null, action: null }, add: { btnlabel: "Ekle", label: null, url: null, data: null, option: null, action: null }, option: null, data_id: -1 }, n), e = function (n, a, t, e, i) { l.ajax({ url: n, type: "GET", data: a, success: function (n) { if (n.Success === !0) { t.empty(); var a = n.Data; t.append("<option value=-1>" + e + "</option>"), l.each(a, function (l, n) { t.append('<option value="' + n.Value + '">' + n.Text + "</option>") }), null !== i && t.val(i) } } }) }; return this.each(function () { if (!l(this).is("select")) throw new Error("Select değil"); var n = l(this); if (null != t.fill) { var i = t.fill.url, o = null, u = n, c = "Seçiniz !"; e(i, o, u, c, null) } if (null !== t.add && null !== t.add.label) { var r = a.getId(); n.after('<button id="' + r + '" type="button" class="btn btn-primary">' + t.add.label + "</button>"); var d = t.add.url; if (null !== d) { var s = l("#" + r); s.on("click", function () { var a = (l(this), -1); if (null !== t.cascade) { var e = l("#" + t.cascade.sourceid); if (a = e.val(), console.log(a), 0 > a) return } BootstrapDialog.show({ title: t.add.title, message: t.add.title + ' Giriniz: <input id="ad" type="text" class="form-control">', buttons: [{ label: "İptal", action: function (l) { l.close() } }, { label: "Kaydet", action: function (e) { l.ajax({ url: t.add.url, type: "POST", data: { ad: l("#ad").val(), id: a }, success: function (a) { if (console.log(a), a.Success !== !1) { n.empty(); var i = null === t.option ? "Seçiniz !" : t.option; n.append('<option value="-1">' + i + "</option>"), l.each(a.Data, function (l, a) { n.append('<option Value="' + a.Value + '" >' + a.Text + "</option>") }), n.val(a.Selected), e.close() } } }) } }] }) }) } } if (null !== t.source) { var f = l("#" + t.source); f.change(function () { var n = f.val(); e(t.source.url, { id: n }, l(this), "Seçiniz", null) }) } if (null !== t.cascade) { var p = l("#" + t.cascade.sourceid); if (p.length > 0) { var v = l(this); p.change(function () { var l = p.val(); 0 > l || e(t.cascade.url, { id: l }, v, "Seçiniz", null) }) } } }) } }(jQuery);